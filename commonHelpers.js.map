{"version":3,"file":"commonHelpers.js","sources":["../src/js/scroll-up.js","../src/js/preloader.js","../src/js/books-api.js","../src/js/block-home-books.js","../src/js/category_home.js","../src/js/selected_category.js","../src/js/form-for-weather.js","../src/js/modal.js","../src/js/modal-open.js","../src/main.js"],"sourcesContent":["const toTopButton = document.getElementById(\"to-top-button\");\n\n    window.addEventListener(\"scroll\", () => {\n        if (window.pageYOffset > 100) {\n            toTopButton.classList.add(\"active\");\n        } else {\n            toTopButton.classList.remove(\"active\");\n        }\n    });\n\n    toTopButton.addEventListener(\"click\", () => {\n        window.scrollTo({\n            top: 0,\n            behavior: \"smooth\",\n        });\n    });\n\nexport function scrollToStart() {\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        });\n}\n      ","const loader = document.querySelector('.loader');\n\nexport function loaderOn() {\n   loader.classList.remove('hidden');\n  }\n  \nexport function loaderOff() {\n  loader.classList.add('hidden');\n  }","import axios from 'axios';\nconst BASE = 'https://books-backend.p.goit.global/books';\n\nexport async function getCategories() {\n  const URL = `${BASE}/category-list`;\n  const response = await axios.get(URL);\n  return response.data;\n}\nexport async function getPopularBooks() {\n  const URL = `${BASE}/top-books`;\n  const response = await axios.get(URL);\n  return response.data;\n}\nexport async function getBooksByCategory(selectedCategory) {\n  selectedCategory = selectedCategory.trim();\n  const params = { category: selectedCategory };\n  const URL = `${BASE}/category`;\n  const response = await axios.get(URL, { params });\n  return response.data;\n}\nexport async function getBookInfo(bookId) {\n  bookId = bookId.trim();\n  const URL = `${BASE}/${bookId}`;\n  const response = await axios.get(URL);\n  return response.data;\n}\n","import iziToast from 'izitoast';\nimport refs from './refs';\nimport { loaderOn } from './preloader.js';\nimport { loaderOff } from './preloader.js';\nimport { getPopularBooks } from './books-api.js';\nlet bookCategory;\n\nfunction templateBookCard({\n  _id,\n  author,\n  contributor,\n  title,\n  book_image,\n  list_name,\n}) {\n  bookCategory = list_name;\n  return `<li class=\"book-li-item\">\n                <button type=\"button\" class=\"book-item\" id=\"${_id}\" aria-label=\"${title} ${contributor}\">\n                <div class=\"book-wrapper\">\n                <img class=\"book-img\" src=\"${book_image}\" alt=\"${title} ${contributor}\">\n                <div class=\"book-overlay\">\n                <p class=\"book-overlay-text\">QUICK VIEW</p>\n                </div>\n                </div>\n                <div class=\"book-info\">\n                <p class=\"book-info-title\">${title}</p>\n                <p class=\"book-info-author\">${author}</p>\n                </div>\n                </button>\n            </li>`;\n}\n\nexport function templateBookCategoryEl({ books }) {\n  const bookCards = books.map(templateBookCard).join('');\n  const result =\n    `<li class=\"book-item-home\">\n                    <h3 class=\"book-category-title\">${bookCategory}</h3>\n                    <ul class=\"books-category-list\">` +\n    bookCards +\n    `</ul>\n                    <button class=\"button see-more-btn\" data-js=\"${bookCategory}\" aria-label=\"See more\">SEE MORE</button>\n                </li>`;\n  return result;\n}\n\nfunction templateHomeBookMarkup(dataPopularBooks) {\n  const markup = dataPopularBooks.map(templateBookCategoryEl).join('');\n  const result =\n    `<h2 class=\"books-home-title\">Best Sellers <span class=\"books-home-title-span\">Books</span></h2>` +\n    `<ul class=\"books-home-list\">` +\n    markup +\n    `</ul>`;\n\n  return result;\n}\n\nexport function renderHomeBooksMarkup(dataPopularBooks) {\n  const markup = templateHomeBookMarkup(dataPopularBooks);\n  refs.mainContainer.innerHTML = markup;\n}\n\nexport function showError(msg) {\n  iziToast.error({\n      title: 'Error',\n      message: msg,\n      });\n  };\nasync function renderMainPageBookList() {\n  loaderOn();\n  try {\n    const data = await getPopularBooks();\n    renderHomeBooksMarkup(data);\n  } catch (err) {\n    showError(err);\n  }\n  loaderOff();\n}\nrenderMainPageBookList();","export const categoriesList = document.querySelector('.categories-list');\n\nfunction addMarkup(list_name) {\n  return `<li class=\"category-item\"><button type=\"button\" class=\"category-button\" data-category=\"${list_name}\" aria-label=\"${list_name}\">${list_name}</button></li>`;\n}\n\nexport function createCategoriesList(data) {\n  const markup = data.map(addMarkup).join('');\n  const result =\n    `<li class=\"category-item\"><button type=\"button\" class=\"category-button js-current-category\" data-category=\"all categories\" aria-label=\"all categories\">All categories</button></li>` + markup;\n  categoriesList.innerHTML = result;\n}\n","import { loaderOn } from './preloader';\nimport { loaderOff } from './preloader';\nimport { getBooksByCategory } from './books-api';\nimport { getPopularBooks } from './books-api';\nimport { renderHomeBooksMarkup } from './block-home-books';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { showError } from './block-home-books.js';\nimport { scrollToStart } from './scroll-up.js';\nimport refs from './refs';\n\nexport async function currentCategoryTogle(value) {\n  await document\n    .querySelector('.js-current-category')\n    .classList.remove(`js-current-category`);\n  document\n    .querySelector(`button[data-category=\"${value}\"]`)\n    .classList.add(`js-current-category`);\n}\n\nexport async function onCategoryClick(el) {\n  el.preventDefault();\n\n  if (el.target.classList.contains('category-button')) {\n    refs.mainContainer.innerHTML = '';\n    currentCategoryTogle(el.target.dataset.category);\n\n    if (el.target.dataset.category === `all categories`) {\n      try {\n        const response = await getPopularBooks();\n        loaderOn();\n        renderHomeBooksMarkup(response);\n        currentCategoryTogle(el.target.dataset.category);\n        loaderOff();\n      } catch (err) {\n        showError(err);\n      }\n      return;\n    } else {\n      try {\n        const data = await getBooksByCategory(`${el.target.dataset.category}`);\n        refs.mainContainer.innerHTML = await makeCategoryPage(\n          `${el.target.dataset.category}`,\n          data\n        );\n        currentCategoryTogle(el.target.dataset.category);\n        loaderOff();\n      } catch (err) {\n        showError(err);\n      }\n    }\n  }\n}\n\nexport async function makeCategoryPage(category, data) {\n  const title = category.split(' ');\n  return ` \n    <h2 class=\"block_books-title\"\n  >${title\n    .splice(0, title.length / 2)\n    .join(' ')} <span class=\"block_books-colortitle\">${title\n    .splice(title.length / 2, title.length)\n    .join(' ')}</span></h2> \n          <ul class=\"block_books-list\">${await makeListOfBooks(data)}</ul>\n          <button class=\"button all-categories_btn\" data-js=\"All Categories\" aria-label=\"All categories\">All Categories</button>`;\n}\n\nexport async function makeListOfBooks(data) {\n  return data.map(categoryBookCard).join('');\n}\n\nexport function categoryBookCard({\n  author,\n  book_image,\n  title,\n  description,\n  _id,\n  contributor,\n}) {\n  return `<li class=\"book-li-item\">\n    <button type=\"button\" class=\"book-item\" id=\"${_id}\" aria-label=\"${title} ${contributor}\">  \n    <div class=\"books_wrapper\"> \n    <img class=\"books_image\" src=\"${book_image}\"  alt=\"${description}\" loading=\"lazy\" width=\"335\" height=\"485\" /> \n    <div class=\"books_overlay\"> \n    <p class=\"books_overlay-text\">QUICK VIEW</p> \n    </div> \n    </div> \n    <div class=\"books_info\">  \n    <p class=\"books_info-title\">${title}</p>  \n    <p class=\"books_info-author\">${author}</p>  \n    </div>\n    </button>\n    </li>`;\n}\n\nexport async function onSeeMoreClick(event) {\n  event.preventDefault();\n\n  if (event.target.classList.contains('see-more-btn')) {\n    scrollToStart();\n    const requestedCategory = event.target.dataset.js;\n    refs.mainContainer.innerHTML = '';\n    loaderOn();\n    try {\n      const data = await getBooksByCategory(`${requestedCategory}`);\n      refs.mainContainer.insertAdjacentHTML(\n        'beforeend',\n        await makeCategoryPage(`${requestedCategory}`, data)\n      );\n      currentCategoryTogle(`${requestedCategory}`);\n      loaderOff();\n    } catch (err) {\n      showError(err);\n    }\n  } else if (event.target.classList.contains('all-categories_btn')) {\n    scrollToStart();\n    refs.mainContainer.innerHTML = '';\n    try {\n      const response = await getPopularBooks();\n      loaderOn();\n      renderHomeBooksMarkup(response);\n      currentCategoryTogle('all categories');\n      loaderOff();\n    } catch (err) {\n      showError(err);\n    }\n  }\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\n\nconst form = document.querySelector('.js-search');\nconst cityButton = document.querySelector('.search-city');\nconst weatherInfo = document.getElementById('js-info-weather-city');\nconst forecastText = document.querySelector('p.forecast-text');\n\nform.addEventListener('submit', getFormValues);\n\nasync function getFormValues(event) {\n  event.preventDefault();\n  const city = event.target.elements.city.value.trim() || '';\n  try {\n    const data = await serviceWeather(city);\n\n    const country = data.location.country;\n    const image = data.current.condition.icon;\n    const temperature = data.current.temp_c;\n    const text = data.current.condition.text;\n\n    const weatherHtml = `\n                <h2 class=\"country-city-title\">${country}, ${city}</h2>\n                <img class=\"weather-city-image\" src=\"${image}\" alt=\"${text}\">\n                <p class=\"weather-city-info\">Temp.: ${Math.floor(\n                  temperature\n                )} &deg;C</p>\n                <p class=\"weather-city-info\">${text}</p>\n        `;\n    weatherInfo.innerHTML = weatherHtml;\n\n    forecastText.textContent = generateForecast(text);\n\n    event.target.elements.city.value = '';\n    cityButton.blur();\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: error.message,\n    });\n  }\n  form.reset();\n}\n\nasync function serviceWeather(city) {\n  const BASE = 'https://api.weatherapi.com/v1';\n  const response = await (\n    await axios.get(`${BASE}/current.json`, {\n      params: {\n        key: '14c56bddeab14583a6e164909231107',\n        q: city,\n        lang: 'en',\n      },\n    })\n  ).data;\n  return response;\n}\n\nfunction generateForecast(text) {\n  const rain =\n    'Rain taps softly, like music, setting the scene for books. Rainy days are cozy, perfect for getting lost in books';\n  const snow =\n    'Snow falls gently, making reading by the fire even better. Snowy weather creates a peaceful setting for immersive reading sessions';\n  const clear =\n    'Sunny days make reading outside under trees delightful. Sunlight makes reading enjoyable with its warm and bright rays';\n  const anyWeather =\n    'Any weather is book weather! Embrace reading anytime, anywhere';\n  const cloudy =\n    'Soft light filters through the clouds, ideal for cozy reading. Cloudy days offer a calm atmosphere, perfect for uninterrupted reading';\n\n  if (text.toLowerCase().includes('cloudy')) {\n    return cloudy;\n  } else if (text.toLowerCase().includes('rain')) {\n    return rain;\n  } else if (text.toLowerCase().includes('snow')) {\n    return snow;\n  } else if (text.toLowerCase().includes('sunny')) {\n    return clear;\n  } else {\n    return anyWeather;\n  }\n}\n","import { getBookInfo } from './books-api'; //імпорт функціі яка бере данні з сервера (api)\nimport { handleBookInStorage } from './storage'; /* ==імпорт функці== */\nexport const modalClose = () => {\n  const refsModal = {\n    openModalBtn: document.querySelectorAll('[data-modal-open]'),\n    closeModalBtn: document.querySelector('[data-modal-close]'),\n    modal: document.querySelector('[data-modal]'),\n    modalShopigListBtn: document.querySelector('.modal-pop-up-btn'),\n  }; //знаходження дома//\n  refsModal.modalShopigListBtn.addEventListener('click', onUpdateStorage); //вішаєм на кнопку слухача для додавання і видалення з локал сторедж//\n\n  refsModal.openModalBtn.forEach(element => {\n    element.addEventListener('click', toggleModal);\n  });\n\n  refsModal.closeModalBtn.addEventListener('click', closeModal);\n  refsModal.modal.addEventListener('click', removeModal);\n  document.addEventListener('keydown', onEscapeKey);\n  function removeModal(e) {\n    if (e.target === e.currentTarget) {\n      closeModal();\n    }\n  }\n\n  function toggleModal() {\n    refsModal.modal.classList.toggle('is-hidden');\n    refsModal.modal.classList.toggle('is-open');\n\n    if (refsModal.modal.classList.contains('is-hidden')) {\n      document.body.classList.add('no-scroll');\n      document.addEventListener('keydown', onEscapeKey);\n      refsModal.closeModalBtn.addEventListener('click', closeModal);\n      refsModal.modal.addEventListener('click', removeModal);\n    } else {\n      enableBodyScroll();\n      removeEventListeners();\n    }\n  }\n\n  function closeModal() {\n    refsModal.modal.classList.add('is-hidden');\n    enableBodyScroll();\n    removeEventListeners();\n  }\n\n  function onEscapeKey(e) {\n    if (e.key === 'Escape') {\n      closeModal();\n    }\n  }\n\n  function enableBodyScroll() {\n    document.body.classList.remove('no-scroll');\n  }\n\n  function removeEventListeners() {\n    refsModal.openModalBtn.forEach(element => {\n      element.removeEventListener('click', toggleModal);\n    });\n    refsModal.closeModalBtn.removeEventListener('click', closeModal);\n    refsModal.modal.removeEventListener('click', removeModal);\n    document.removeEventListener('keydown', onEscapeKey);\n  }\n};\n\n//змінюємо інформацію котра знаходиться в сторедж\nasync function onUpdateStorage(event) {\n  const id =\n    event.target.previousElementSibling.previousElementSibling.firstElementChild\n      .id;\n  const data = await getBookInfo(id);\n  handleBookInStorage(data);\n}\n","import { getBookInfo } from './books-api';\nimport { showError } from './block-home-books';\nimport { modalClose } from './modal';\nimport amazonLogo from '../images/amazon-logo.png';\nimport appleBooksLogo from '../images/apple-books-logo.png';\nimport { checkInLocalStorage, upDateModalMarkup } from './storage';\nimport refs from './refs';\n\nlet modalBookEl;\nrefs.booksContainer.addEventListener('click', onBooksContainerClick);\n\nasync function onBooksContainerClick(e) {\n  modalBookEl = e.target.closest('.book-item');\n  refs.modalWindowContent.innerHTML = '';\n  if (modalBookEl) {\n    refs.modalWindow.classList.remove('is-hidden');\n    modalClose();\n    try {\n      refs.body.classList.add(\"no-scroll\");\n      let modalBookId = modalBookEl.id;\n      let bookInfo = await getBookInfo(modalBookId);\n      renderBookInfoModal(bookInfo);\n    } catch (err) {\n      showError(err);\n    }\n  }\n}\n\nfunction templateBookInfoModal({\n  book_image,\n  contributor,\n  description,\n  _id,\n  title,\n  author,\n  buy_links,\n}) {\n  return `<img class=\"modal-img\" src=\"${book_image}\" alt=\"${title} ${contributor}\" id=\"${_id}\" width=\"278\" height=\"408\">\n            <div class=\"modal-img-description\">\n                <h2 class=\"modal-book-title\">${title}</h2>\n                <h3 class=\"modal-book-author\">${author}</h3>\n                <p class=\"modal-book-desc\">${description}</p>\n                <ul class=\"modal-shops\">\n                    <li class=\"modal-shop\">\n                        <a href=\"${buy_links[0].url}\" target=\"_blank\" class=\"modal-shop-link\">\n                            <img class=\"amazon\" src=\"${amazonLogo}\" alt=\"Shop Logo\">\n                        </a>\n\n                    <li class=\"modal-shop\">\n                        <a href=\"${buy_links[1].url}\" target=\"_blank\" class=\"modal-shop-link\">\n                            <img class=\"book-shop\" src=\"${appleBooksLogo}\" alt=\"Shop Logo\">\n                        </a>\n                </ul>\n            </div>`;\n}\nfunction renderBookInfoModal(data) {\n  upDateModalMarkup(!checkInLocalStorage(data._id));\n  const markup = templateBookInfoModal(data);\n  refs.modalWindowContent.insertAdjacentHTML('afterbegin', markup);\n}\n","import refs from './js/refs.js';\nimport './js/active-page-link.js';\nimport createSwitch, { deleteSwitch } from 'switch-button';\nimport 'switch-button/dist/index.css';\nimport Pagination from 'tui-pagination';\nimport Swiper from 'swiper';\nimport 'swiper/css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport './js/supporters.js';\nimport './js/scroll-up.js';\nimport './js/block-home-books.js';\nimport { getCategories } from './js/books-api.js';\nimport { getPopularBooks } from './js/books-api.js';\nimport { getBooksByCategory } from './js/books-api.js';\nimport { getBookInfo } from './js/books-api.js';\nimport { loaderOn } from './js/preloader.js';\nimport { loaderOff } from './js/preloader.js';\n\nimport './js/active-page-menu.js';\nimport './js/mobile-menu.js';\nimport './js/dark-theme.js';\nimport { showError } from './js/block-home-books.js';\nimport { createCategoriesList } from './js/category_home.js';\nimport './js/selected_category.js';\nimport { categoriesList } from './js/category_home.js';\nimport { onCategoryClick } from './js/selected_category.js';\n\nimport { onSeeMoreClick } from './js/selected_category.js';\nimport './js/form-for-weather.js';\n\nimport './js/modal-open.js';\n\nasync function renderMainCategoriesList() {\n  loaderOn();\n  try {\n    const data = await getCategories();\n    const res = data.map(obj => obj.list_name).toSorted();\n    createCategoriesList(res);\n  } catch (err) {\n    showError(err);\n  }\n  loaderOff();\n}\n\ncategoriesList.addEventListener('click', onCategoryClick);\nrefs.mainContainer.addEventListener('click', onSeeMoreClick);\n\nrenderMainCategoriesList();\n"],"names":["toTopButton","scrollToStart","loader","loaderOn","loaderOff","BASE","getCategories","URL","axios","getPopularBooks","getBooksByCategory","selectedCategory","params","getBookInfo","bookId","bookCategory","templateBookCard","_id","author","contributor","title","book_image","list_name","templateBookCategoryEl","books","bookCards","templateHomeBookMarkup","dataPopularBooks","renderHomeBooksMarkup","markup","refs","showError","msg","iziToast","renderMainPageBookList","data","err","categoriesList","addMarkup","createCategoriesList","result","currentCategoryTogle","value","onCategoryClick","el","response","makeCategoryPage","category","makeListOfBooks","categoryBookCard","description","onSeeMoreClick","event","requestedCategory","form","cityButton","weatherInfo","forecastText","getFormValues","city","serviceWeather","country","image","temperature","text","weatherHtml","generateForecast","error","rain","snow","clear","anyWeather","cloudy","modalClose","refsModal","onUpdateStorage","element","toggleModal","closeModal","removeModal","onEscapeKey","e","enableBodyScroll","removeEventListeners","id","handleBookInStorage","modalBookEl","onBooksContainerClick","modalBookId","bookInfo","renderBookInfoModal","templateBookInfoModal","buy_links","amazonLogo","appleBooksLogo","upDateModalMarkup","checkInLocalStorage","renderMainCategoriesList","res","obj"],"mappings":"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"}