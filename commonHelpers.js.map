{"version":3,"file":"commonHelpers.js","sources":["../src/config.js","../src/auth.js"],"sourcesContent":["export const firebaseConfig = {\n  apiKey: 'AIzaSyB41WCULKnNp2IiFVK82TtJH5XyzvwOUnY',\n  authDomain: 'goit-bookshelf-project.firebaseapp.com',\n  projectId: 'goit-bookshelf-project',\n  storageBucket: 'goit-bookshelf-project.appspot.com',\n  messagingSenderId: '763025601632',\n  appId: '1:763025601632:web:2a1d50db575e9c30caff05',\n};\n","import { initializeApp } from 'firebase/app';\nimport {\n  connectAuthEmulator,\n  createUserWithEmailAndPassword,\n  getAuth,\n  onAuthStateChanged,\n  sendEmailVerification,\n  sendPasswordResetEmail,\n  signInWithEmailAndPassword,\n  signOut,\n} from 'firebase/auth';\nimport { firebaseConfig } from './config';\n\ninitializeApp(firebaseConfig);\n\nconst auth = getAuth();\n\nif (window.location.hostname === 'localhost') {\n  connectAuthEmulator(auth, 'http://127.0.0.1:9099');\n}\n\nconst emailInput = document.getElementById('email');\nconst passwordInput = document.getElementById('password');\nconst signInButton = document.getElementById('quickstart-sign-in');\nconst signUpButton = document.getElementById('quickstart-sign-up');\nconst passwordResetButton = document.getElementById(\n  'quickstart-password-reset'\n);\nconst verifyEmailButton = document.getElementById('quickstart-verify-email');\nconst signInStatus = document.getElementById('quickstart-sign-in-status');\nconst accountDetails = document.getElementById('quickstart-account-details');\n\n/**\n * Handles the sign in button press.\n */\nfunction toggleSignIn() {\n  if (auth.currentUser) {\n    signOut(auth);\n  } else {\n    const email = emailInput.value;\n    const password = passwordInput.value;\n    if (email.length < 4) {\n      alert('Please enter an email address.');\n      return;\n    }\n    if (password.length < 4) {\n      alert('Please enter a password.');\n      return;\n    }\n    // Sign in with email and pass.\n    signInWithEmailAndPassword(auth, email, password).catch(function (error) {\n      // Handle Errors here.\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      if (errorCode === 'auth/wrong-password') {\n        alert('Wrong password.');\n      } else {\n        alert(errorMessage);\n      }\n      console.log(error);\n      signInButton.disabled = false;\n    });\n  }\n  signInButton.disabled = true;\n}\n\n/**\n * Handles the sign up button press.\n */\nfunction handleSignUp() {\n  const email = emailInput.value;\n  const password = passwordInput.value;\n  if (email.length < 4) {\n    alert('Please enter an email address.');\n    return;\n  }\n  if (password.length < 4) {\n    alert('Please enter a password.');\n    return;\n  }\n  // Create user with email and pass.\n  createUserWithEmailAndPassword(auth, email, password).catch(function (error) {\n    // Handle Errors here.\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    if (errorCode == 'auth/weak-password') {\n      alert('The password is too weak.');\n    } else {\n      alert(errorMessage);\n    }\n    console.log(error);\n  });\n}\n\n/**\n * Sends an email verification to the user.\n */\nfunction sendVerificationEmailToUser() {\n  sendEmailVerification(auth.currentUser).then(function () {\n    // Email Verification sent!\n    alert('Email Verification Sent!');\n  });\n}\n\nfunction sendPasswordReset() {\n  const email = emailInput.value;\n  sendPasswordResetEmail(auth, email)\n    .then(function () {\n      // Password Reset Email Sent!\n      alert('Password Reset Email Sent!');\n    })\n    .catch(function (error) {\n      // Handle Errors here.\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      if (errorCode == 'auth/invalid-email') {\n        alert(errorMessage);\n      } else if (errorCode == 'auth/user-not-found') {\n        alert(errorMessage);\n      }\n      console.log(error);\n    });\n}\n\n// Listening for auth state changes.\nonAuthStateChanged(auth, function (user) {\n  verifyEmailButton.disabled = true;\n  if (user) {\n    // User is signed in.\n    const displayName = user.displayName;\n    const email = user.email;\n    const emailVerified = user.emailVerified;\n    const photoURL = user.photoURL;\n    const isAnonymous = user.isAnonymous;\n    const uid = user.uid;\n    const providerData = user.providerData;\n    signInStatus.textContent = 'Signed in';\n    signInButton.textContent = 'Sign out';\n    accountDetails.textContent = JSON.stringify(user, null, '  ');\n    if (!emailVerified) {\n      verifyEmailButton.disabled = false;\n    }\n  } else {\n    // User is signed out.\n    signInStatus.textContent = 'Signed out';\n    signInButton.textContent = 'Sign in';\n    accountDetails.textContent = 'null';\n  }\n  signInButton.disabled = false;\n});\n\nsignInButton.addEventListener('click', toggleSignIn, false);\nsignUpButton.addEventListener('click', handleSignUp, false);\nverifyEmailButton.addEventListener('click', sendVerificationEmailToUser, false);\npasswordResetButton.addEventListener('click', sendPasswordReset, false);\n"],"names":["firebaseConfig","initializeApp","auth","getAuth","connectAuthEmulator","emailInput","passwordInput","signInButton","signUpButton","passwordResetButton","verifyEmailButton","signInStatus","accountDetails","toggleSignIn","signOut","email","password","signInWithEmailAndPassword","error","errorCode","errorMessage","handleSignUp","createUserWithEmailAndPassword","sendVerificationEmailToUser","sendEmailVerification","sendPasswordReset","sendPasswordResetEmail","onAuthStateChanged","user","emailVerified"],"mappings":"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"}